import { Command } from './command'

export class LampCommand extends Command {
  template = {
    SOCConstantLamp: [
      {
        Brightness: 0,
        Mode: 2,
        PreValue: 50,
        TimeSchedule: [
          [
            '1 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
          ],
          [
            '1 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
          ],
          [
            '1 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
          ],
          [
            '1 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
          ],
          [
            '1 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
          ],
          [
            '1 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
          ],
          [
            '1 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
            '0 00:00:00-23:59:59',
          ],
        ],
      },
    ],
    Screen: [
      {
        Brightness: 80,
        Enable: true,
      },
    ],
  }

  constructor({ id = 0, toggle } = {}) {
    super()
    this.template.SOCConstantLamp[0].Brightness = toggle ? 0 : 30
    this.template.Screen[0].Brightness = toggle ? 0 : 80
    this.cmd = {
      id,
      method: 'specific.multicall',
      params: [
        {
          id: 0,
          method: 'configCentre.setConfig',
          params: {
            name: 'SOCConstantLamp',
            content: this.template.SOCConstantLamp,
          },
        },
        {
          id: 0,
          method: 'configCentre.setConfig',
          params: {
            name: 'Screen',
            content: this.template.Screen,
          },
        },
      ],
    }
  }
}
